HTTP interceptors:

What are the interceptors?
A feature in angular that provides great way to intercept outgoing requests or incoming responses.
Interceptors are useful when we need to 
- Ensure the outgoing request is HTTPS instead of HTTP.
- Set an authorization header on each request.
- We can create a global error catch in case HTTP request fails.
- We can create mock response for our application to test.

In components 
  const url = 'https://jsonplaceholder.typicode.com/posts/1';
  this.players = this.http.get(url, {observe: 'body'});

Create a interecptor service using

ng g s MyInterceptor

@Injectable()
export class I1 implements HttpInterceptor {
  private token = '';

  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {
    this.token = 'bxdesddsdsds';
    if (this.token) {
      const tokenizedReq = req.clone({ headers: req.headers.set('Authorization', 'Bearer ' + this.token) });
      return next.handle(tokenizedReq);
    }
    return next.handle(req);
    }
  }


In module

import
import { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';
import { I1 } from './my-interceptor.service';

  providers: [
    {
        provide: HTTP_INTERCEPTORS,
        useClass: I1,
        multi: true
    }
],

------------------------------------------------------------------------------------------------------------------------------------------------------
